1. 浏览器输入`google.com`,发生什么

- 查看缓存
- dns 解析出对应 ip,建立 tcp 连接
- 发送请求
- 接收请求,解析请求,返回对应报文
- 浏览器接收报文,开始渲染
  1. 从上而下,html 解析为 dom
  2. css 为 CSSOM
  3. 结合为 render tree
  4. 根据,进行布局
  5. 进行绘制,调用 GPU,显示在屏幕上
- 断开连接

2. TCP 和 UDP 区别
   |属性|TCP|UDP|
   |---|--|---|
   |是否连接|面向连接|无连接|
   |连接个数|只能 1 对 1|1 对 1,1 对多,多对 1,多对多|
   |传输方式|面向字节流|面向报文|
   |首部开销|开销大,首部最小 20,最大 60|小,首部仅 8 字节|
   |适用场景|可靠传输,文件传输|实时应用,视频会议,直播|

3. OPTIONS 请求

- 请求之前,资源采取做种必要的措施,了解服务器性能.不能缓存
- 用途
  1. 获取服务器支持的所有方法
  2. 检查访问权限.例: cors 跨域资源共享,对复杂请求,发出嗅探请求,判断对资源有访问权限

4. HTTP 请求头 和 响应头

- 请求头
  1. Accept Accept-Encodeing Accept-Language Cache-Control Cookie Content-length Content-Tye Host Origin Rerfere User-Agent
- 响应头
  1. Date Connection Cache-Control Content-Type

5. HTTP1.0 1.1 2.0 和 HTTP3.0
   |1.0|1.1|2.0|3.0|
   |---|---|---|---|
   |短暂连接,每次请求新建连接|持久连接,默认不关闭<br/>同一个 TCP,同时发送多个请求,依次处理,需要排队<br/>新增请求方法 delete,put,option,请求头响应头|二进制<br/>多路并行,一个连接实现并行<br/>报头压缩<br/>服务器推送|Google 的 QUIC 协议(使用 UDP 实现)<br/>减少 tcp 握手时间,tls 握手时间<br/>解决前一个 stream 丢包导致后一个 stream 被阻塞问题<br/>连接迁移,不使用 tcp 四元组,使用 64 位随机数确定连接<br/>流量控制|
6. HTTP 和 HTTPS

- 端口 80 443
- ca 证书,加密传输 明文传输

7. 请求报文

- 请求行 请求头 空行 请求体

8. HTTP 协议优点和缺点

- 超文本传输协议,简单
- 无连接
- 无状态
- 灵活,可以不同类型对象

- 明文传输,不安全
- 不能验证报文完整性
- 不能验证身份

9. WebSocket

- 服务端可以主动发送(双向通信)
- 没有同源策略限制
- 可以发送二进制
- 兼容 http
